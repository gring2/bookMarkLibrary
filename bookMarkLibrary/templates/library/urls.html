{% extends 'base.html' %}

{% block static %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/library/urls.css') }}">

{% endblock %}
{% block content %}
<div class="content">
    <ul>
        <li>
            <button id="btn">+</button>
        </li>
        {% for elem in category.sub %}
            <li style="width: 150px; margin-right: 25px"
                {% if elem.__class__.__name__ == 'BookMark' %}
                    class="bookmark"
                    data-id="{{ elem.id }}"
                {% else %}
                    class="category"
                    data-href="{{  url_for('library.urls', id=elem.id) }}"
                {% endif %}

            >
            <div style="height: 150px">
                <img src="{{elem.thumbnail }}" alt="" width="150px" height="150px"
                >

            </div>
            <div style="text-align: center">
                {{ elem.name }}
            </div>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

{% block modal %}
<div class="modal micromodal-slide" id="addEleModal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <header class="modal__header">
                <h2 class="modal__title" id="modal-1-title">Add sub-category / bookmark</h2>
                <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
            </header>
        <main class="modal__content" id="modal-1-content">
            <form id="addEleForm"action="{{ url_for('library.add_ele') }}" method="POST">
               <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                <input type="hidden" name="parent_id" value="{{ category.id }}">

                <select name="kind" id="kind">
                    {% for _, kind in g.kind.items() %}
                    <option value="{{ kind.code }}">{{ kind.name }}</option>
                    {% endfor %}

                </select>
            <input type="text" name="path" id="path" placeholder="name">

            </form>
        </main>
        <footer class="modal__footer">
            <button class="modal__btn modal__btn-primary" id="submit">Submit</button>
            <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="changeThumbnail" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <header class="modal__header">
                <h2 class="modal__title" id="modal-1-title">Change Thumbnail</h2>
                <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
            </header>
        <main class="modal__content" id="modal-1-content">
            <form id="changeThumbNailForm" action="{{ url_for('library.change_thumbnail') }}" method="POST" enctype="multipart/form-data">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    <input type="hidden" name="id" id="change_id">
                    <input type="file" name="thumbnail" id="thumbnail">
            </form>
        </main>
        <footer class="modal__footer">
            <button class="modal__btn modal__btn-primary" id="change">Change</button>
            <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
        </div>
    </div>
</div>
{% endblock %}